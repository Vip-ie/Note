### 字符串

**在python中如果想表示字母怎么办呢？**

### 字符串的定义

```py
>>> str1 = 'string'   单引号包裹字符串
>>> str2 = "string"   双引号与单引号配合使用
>>> str3 ='''sting
... ceshi'''          可以换行输入更多内容
>>> str3
'sting\nceshi'
```

### 字符串方法

字符串方法可以方便的对字符串作出处理，虽然字符串是不可变对象，但是可以通过返回新对象的方法来实现增删改查，字符串方法很多，掌握常用的就好。

```py
查:
    count         统计字符串中某个字符出现的次数
    find          查找字符串中某一个元素，如果字符元素不存在返回-1,字符存在返回索引值
    index         查看字符串中某个字符的索引值
    isdigit       判断是否都是数字，是数字返回True，不是数字返回False
    isalpha       判断是否都是字母，如果是字符返回True,不是字母返回False
    endswith      判断以什么元素结尾的
    startswith    判断以什么元素开头的
    islower       判断字符是否都是小写
    isupper       判断字符是否都是大写
改: 
    upper         把小写字母转变为大写
    lower         把大写字母转变为小写
    strip         strip去掉字符串中的空格，
    lstrip        lstrip去掉字符串中的左空格
    rstrip        rstrip去掉字符串中右空格  
    capitalize    首字母大写
    title         每个单词首字母大写
    split         切割（默认已空格未切割点，也可以指定字符元素为切割点）在爬虫使用中很常见
删:
    replace

---------------------------------------
>>> a = 'abcdcba'
>>> b = 'ABC'
>>> c = '   abc   '
>>> d = 'hello world'
---------------------------------------

查
>>> a.count('a')
2
---------------------------------------
>>> a.find('c')
2
>>> a.find('f')
-1
---------------------------------------
>>> a.index('a')
0
---------------------------------------
>>> a.isdigit()
False
---------------------------------------
>>> a.isalpha()
True
---------------------------------------
>>> a.endswith('a')
True
---------------------------------------
>>> a.startswith("b")
False
>>> a.startswith("a")
True
---------------------------------------
>>> a.islower()
True
>>> b.islower()
False
---------------------------------------
>>> b.isupper()
True
>>> a.isupper()
False
---------------------------------------

改
>>> a.upper()
'ABCDCBA'
---------------------------------------
>>> b.lower()
'abc'
---------------------------------------
>>> c.strip()  去除左右空格
'abc'
>>> c.lstrip() 去除左空格
'abc   ' 
>>> c.rstrip() 去除右空格
'   abc'
---------------------------------------
>>> a.capitalize()
'Abcdcba'
---------------------------------------
>>> d.title()
'Hello World'
---------------------------------------
>>> d.split()
['hello', 'world']
>>> d.split('o')
['hell', ' w', 'rld']
---------------------------------------

替换
>>> d.replace('o','fff')
'hellfff wfffrld'
>>> d.replace('o','fff',1) 这里的1表示只替换第一个
'hellfff world'
```

### 字符串格式化方法

| %占位符方法 | 描述 |
| :--- | :--- |
| %s | 字符串 |
| %d | 整数 |
| %f | 浮点数 |
| %c | ASCII字符 |
| %o | 8进制 |
| %x | 16进制 |
| %e | 科学计数法 |
| %r | 可以看到你原本的对象是数字还是字符串 |

### 整数和浮点数百分号占位符

* 严格区分字母与数字
* %d 只能是整数
* %f 只能是浮点数
* '%.2f'2.3 在f前面的2控制显示多少位小数
* ‘%10.2f’%2.3 百分号后面的10数字表示浮点数的位数长度
* ‘%+10.2f'%2.3 百分号后面的+号与数字表示再小数点**前面**补00实现浮点数位数长度
* ’%-10.2f'%2.3  百分号后面的+号与数字表示再小数点**后面**补空格实现浮点数位数长度

```py
>>> '%10.2f'%2.3
'      2.30'
>>> '%+010.2f'%2.3
'+000002.30'
>>> '%-010.2f'%2.3
'2.30
```

### 字符串拼接

实际中我们会将很多的字符串拼接起来，然后输出或者是传输，这就需要我们能够熟练的使用拼接，在不同的场景中选择方便和合适的方法

**1.使用 +拼接**

```py
>>> str1 = 'I '
>>> str2 = 'love '
>>> str3 = 'you'

>>> str1 +str2 +str3
'I love you'
```

**2.使用join以列表拼接**

```py
>>> str5 =' '.join([str1,str2,str3])
>>> str5
'I  love  you'
```

### 字符串格式化

格式化得到的结果都是字符串，通过把位置预先留出来，后期再往其中填入内容可以让输出内容更加整洁美观，而又具有良好的可读性，同时让代码更简洁精练。

```py
>>> str4 = '%s %s %s' %(str1,str2,str3)
>>> str4
'I  love  you'
-----------------------------------------------------------------

>>> a = "Rave"
>>> b = '35'
>>> c = '石家庄'
>>> print('我的名字:%s 我今年%s岁了，我来自%s'% (a,b,c))
我的名字:Rave 我今年35岁了，我来自石家庄

>>> a = "Rave"
>>> b = 35
>>> c = '石家庄'
>>> print('我的名字:%s 我今年%d岁了，我来自%s'% (a,b,c))
我的名字:Rave 我今年35岁了，我来自石家庄
-----------------------------------------------------------------
>>> print('%.2f'%2.4)
2.40
>>> print('%f'%2.4)
2.400000
-----------------------------------------------------------------

format功能很强大
>>> str6 ='{} {} {}'.format(str1,str2,str3)
>>> str6
'I  love  you'

>>> str6 ='{2} {0} {1}'.format(str1,str2,str3)
>>> str6
'you I  love '

>>> str7 ='{n0} {n1}{n2}'.format(n1=str1,n0=str3,n2=str2)
>>> str7
'you I love '

>>> print('{name}{age}{sex}'.format(name='rave',age=18,sex='男'))
rave18男
-----------------------------------------------------------------

浮点数格式化
>>> '{:.2f}'.format(12.3333)
'12.33'

>>> '{a:.2f}'.format(a=12.3333)
'12.33'

>>> '{a:.2f}{b:.3f}{c:.1f}'.format(a=12.3333,b=55.234243,c=234.3534534)
'12.3355.234234.4'

>>> '{:.2%}'.format(0.033)  控制百分比输出
'3.30%'

>>> a = 12.3333
>>> '{:.2%}'.format(a)
'1233.33%'

>>> '{:>10}'.format(12.333)   左对齐<
'    12.333'
>>> '{:<10}'.format(12.333)   右对齐>
'12.333    '
>>> '{:x<10}'.format(12.333)  指定符号对齐
'12.333xxxx'
>>> '{:*<10}'.format(12.333)
'12.333****'
>>> '{:*^10}'.format(12.333)   居中对齐^
'**12.333**'
```

### 字符串转义应用

字符串的转义可以方便我们表示我们不太方便表示的字符，同时转义有些情况下又会带来麻烦，特别是在表示路径的时候，这种情况下可以在字符串前面加上 r 来去掉字符串的转义

字符串前面加上\，字符就不在表示字符本身的意思。表示ASCII码中不不能显示字符

| 字符串转义方法 | 描述 |
| :--- | :--- |
| \n | 换行 |
| \t | 水平制表符 |
| \b | 退格 |
| \r | 回车，当前位置移到本行开头 |
| \ | 代表反斜杠\ |
| \' | 代表一个单引号，同样的”？等符号也可以这么输出 |
| \0 | 代表一个空字符 |
| \a | 系统提示音 |

如果去掉字符串的转义，只需要在字符串前面加上r `r'abc\tabc'`

```py
>>> a = 'abc\naaa'
>>> print(a)
abc
aaa
---------------------------------------
>>> a = 'abc\taaa'
>>> print(a)
abc    aaa     默认tab是四个空格长度
---------------------------------------
>>> a = '\abbb\a'
>>> print(a)
bbb
---------------------------------------
>>> print(r'abc\ncba')
abc\ncba
```

### 字符串编码

encode\('utf8'\)编码

decode\('utf8'\)解码

```py
>>> a = '张力凯'.encode('gbk')
>>> a
b'\xd5\xc5\xc1\xa6\xbf\xad'
>>> a.decode('gbk')
'张力凯'
```

![](/assets/zifuchuan.png)

### 字符串编码的作用

Python统一了编码，这样Python在内部处理的时候不会因编码不同而出现程序不能正常执行的问题。

Python会自动根据系统环境选择编码，但是经常在文件传输的过程中，会遇到各种不同的编码，这个时候就需要我们去处理编码问题。

